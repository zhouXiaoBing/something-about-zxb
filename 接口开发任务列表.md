

#### 举例：完成一个接口有原有的数据结构切换到，现有的数据结构的需要做的具体工作

购物车数据展现分布：

也接口字段和现接口字段对比：字段均取自数据库

| 原接口字段    | 现接口字段  | 解释                                                         |
| ------------- | ----------- | ------------------------------------------------------------ |
| true_name     | store_name  | 店铺名                                                       |
| seller_logo   | none        | 店铺logo（考虑要自己查找相应表）！！！                       |
| seller_id     | store_id    | 店铺id                                                       |
| agency_id     | agency_id   | 仓库id                                                       |
| agency        | none        | 仓库名（考虑自己查找相应表格）！！！                         |
| goods_id      | none        | 自己查表！！！                                               |
| goods_name    | goods_name  | 商品名                                                       |
| goods_price   | goods_price |                                                              |
| market_price  | none        | 市场价：自己查vtg_goods：商品表 或者不显示！！！             |
| store_nums    | none        | 库存：编辑数量时作为限制参数 自己查 goods_storage 表         |
| in_settlement | none        | 是否为选中状态：一次作为进入购物车是的计算<br />价格的参照，考虑后期数据库添加这个字段或者接口里<br />统一为不选中 |
| user_id       | buyer_id    | 用户id/买家id                                                |
| goods_number  | goods_num   | 加入购物车的数量                                             |

数据层级:现数据库未按此规则分级，考虑模仿原有接口在接口端做更改

```json
{
"ture_name":"维他购旗舰店",
"sller_logo":"url..............",
"sller_id":"2222",
    "goods":[
        {...},
        {...}
    ]
}
//现行结构
{"goods":[
        {...},
        {...}
    ]
}
```

对App端的影响及改动

1. 没有选中字段，默认为选中后需要本地计算总价，退出后再次登录无法保存，并不能同步到另外的设备
2. 根据wap端来看没有分仓结算，原结算订单是根据卖家id和仓库id以及用户id确定商品计算订单，现行逻辑单个商品唯一的cart_id 然后调相应方法
3. 客户端去掉分仓结算 只有一个结算按钮 只显示商品list 重写商品显示界面
4. 弃用原有的model结构，重写model的数据结构

购物车和订单的UI部分要重写，



![image-20180627141107307](/var/folders/k0/zhv0tjnx2x51qkwsrffsqyc80000gn/T/abnerworks.Typora/image-20180627141107307.png)

![IMG_0961](/Users/Darin/Downloads/IMG_0961.PNG)



![IMG_0962](/Users/Darin/Downloads/IMG_0962.PNG)

![image-20180627152705920](/var/folders/k0/zhv0tjnx2x51qkwsrffsqyc80000gn/T/abnerworks.Typora/image-20180627152705920.png)



### 1.服务端接口

### 2.ios改动

### 3.Android改动



```txt



```

