# C语言基础

xcode 的 运行原理：

- 源代码：程序员写好的代码
- 编译：把源代码翻译成机器语言（二进制）生成一个 .o 目标文件
- 链接：把目标文件和函数库整合生成一个 .out 可执行文件

### 数据类型

![image-20181112163307344](image-20181112163307344.png)

## 常用代码规范和运算规则

### C语言注释的介绍和使用

同 java objective-c

### print函数

printf 函数是一个标准的函数库，需要引用 头文件“ stdio.h” ,所有的函数库在使用的时候都需要引用函数库。

printf 函数调用

```c
int main (int argc,const char * argv[]){
    //输出一个数
    int a = 23 ;
    printf("输出一个数 a = %d \n",a);
    return 0;
}
//输出一个数 a = 23
```



一般形式： printf("格式控制字符串",输出列表);

**格式字符串** 以%开头的字符串，在%后面跟有各种格式字符，可以用来说明输出数据的 类型、形式、长度、小数位等

“%d”表示按十进制整型输出;

 “%ld”表示按十进制长整型输出; 

“%c”表示按字符型输出等。 

| 格式字符 | 意义                                             |
| -------- | ------------------------------------------------ |
| d        | 以十进制的形式输出带符号的整数（正数不输出符号） |
| o        | 以八进制的形式输出无符号的整数（不输出前缀0）    |
| x, X     | 以十六进制的形式输出无符号的整数（不输出前缀0X） |
| u        | 以十进制的形式输出无符号的整数                   |
| f        | 以小数形式输出单、双精度实数                     |
| e, E     | 以指数形式输出单、双精度实数                     |
| g, G     | 以 %f 和 %e 中 较短的输出宽度输出单、双精度实数  |
| c        | 输出单个字符                                     |
| s        | 输出字符串                                       |

![image-20181112164919351](image-20181112164919351.png)

#### 注意事项

##### 域宽问题

%d：安整型数据的实际长度输出

%md: m 代表域宽 ，打印出来以后，在控制台上，显示 m 位

如果我们要打印的数的位数如果超过我们设定 m 则 原样输出
如果我们要打印的数的位数如果小于我们设定的位数,则补空白,具体如下:
如果m为正数,则左对齐(左侧补空白) 如果m为负数,则右对齐(右侧补空白)

%m.nf 保留小数点前面m位 后面n位

##### 关于转义字符

关于 printf 函数的进一步说明：

如果想输出字符 “%”，则应该在“格式控制”字符串中用连续的两个 % 表示 如：
printf("%f%%", 1.0/3);
输出0.333333%。



| 符号 | 意义                                             |
| ---- | ------------------------------------------------ |
| \n   | 换行，相当于敲一下回车                           |
| \t   | 调到下一个 tab 位置，相当于按一下键盘上的 tab 键 |
| \b   | 退格，相当于按一下 空格                          |
| \r   | 使光标回到本行开头                               |
| \f   | 换页，光标移到下页开头                           |
| \\\  | 输出\字符,也就是在屏幕上显示一个\字符            |
| \\'  | 输出'字符,也就是在屏幕上显示一个'字符            |
| \\"  | 输出"字符,也就是在屏幕上显示一个"字符            |



### scanf函数

scanf函数原型包含在标准输入输出头文件“stdio.h”中,用于接受键盘输入的内容。 

格式:scanf("格式控制字符串",输入项地址列表); 如:
 int age=-1;
 scanf("输入age %d",&age); 

#### 格式控制字符串

规定数据输入的格式，由格式控制符和普通字符组成，格式控制符和百分号(%)一起使用，用来说明输入数据的数据类型（格式字符）

常见的格式控制符：

| 格式                | 意义                                         |
| ------------------- | -------------------------------------------- |
| %d                  | 输入一个十进制整数                           |
| %o                  | 输入一个八进制整数                           |
| %x                  | 输入一个十六进制整数                         |
| %i                  | 输入一个有符号或无符号的十、八、十六进制整数 |
| %u                  | 输入一个无符号的十进制整数                   |
| %f、%e 或%E、%g或%G | 输入一个小数形式或指数形式的浮点数           |
| %c                  | 输入一个字符                                 |
| %s                  | 输入一个字符串                               |

#### 输入项地址列表

需要接收数据的标量地址，这些输入项与格式控制字符串在类型和数量上要对应，当有多个输入项时，各个地址名之间以逗号“，”分隔。输入格式和变量类型要一致。

![image-20181116114413035](image-20181116114413035.png)

#### 原理：

#### scanf 注意事项

1. %d%d%d"是按十进值格式输入三个数值。输入时，在两个数据之间可以用一个或多个空
   格、tab键、回车键分隔

   ```c
   #include "stdio.h"
   int main(void)
   {
       int a = 0,b = 0,c = 0;
       scanf("%d%d%d",&a,&b,&c);
       printf("%d,%d,%d\n",a,b,c);
       return 0;
   }
   ```

   运行时按如下的方式输出值

   ```
   3 4 5 //有空格
   3, 4, 5//printf输出的值
   
   ```

2. 域宽

   可以用一个十进制指数指定输入数据宽度，系统自动按域宽截取输入数据

   ```c
   int main(int argc, const char * argc[]){
       int a;
       scanf("%5d",&a);
       printf("%d\n",a);
       return 0;
   }
   ```

   输出：

   ```
   输入：123456789
   输出：12345 //只读取了 5 位
   ```

### 关键字标识符

就是已经被 C 语言使用 不能再作为其他用途的字符

#### 关键字分类

**数据类型关键字**

- **基本数据类型**

  | 关键字 | 含义                                                      |
  | ------ | --------------------------------------------------------- |
  | void   | 声明函数无返回值/无参数，声明无类型指针，显示丢弃运算结果 |
  | char   | 字符类型数据，属于整型数据的一种                          |
  | int    | 整型数据通常编译为指定的机器字长                          |
  | float  | 单精度浮点型数据                                          |
  | double | 多精度浮点型数据                                          |

- **类型修饰关键字**

  | 关键字   | 含义                                     |
  | -------- | ---------------------------------------- |
  | short    | 修饰 int，短整型数据，可省略被修饰的 int |
  | long     | 修饰 int，长整型数据，可省略被修饰的 int |
  | signed   | 修饰整型数据，有符号数据类型             |
  | unsigned | 修饰整型数据，无符号数据类型             |

- **复杂类型关键字（5）**

  | 关键字  | 含义                         |
  | ------- | ---------------------------- |
  | struct  | 结构体声明                   |
  | union   | 共用体声明                   |
  | enum    | 枚举声明                     |
  | typedef | 生命类型别名                 |
  | sizeof  | 得到特定类型或特定变量的大小 |

- **存储级别关键字**（6）

  | 关键字   | 含义                                                         |
  | -------- | ------------------------------------------------------------ |
  | auto     | 指定为自动变量，由编译器自动分配与释放。通常在栈上分配       |
  | static   | 指定为静态变量，分配在静态变量区，修饰函数时，指定函数作用域为文件内部 |
  | register | 指定为寄存器变量，建议编译器将变量存储到寄存器中使用们也可以修饰函数形参，建议编译器通过寄存器而不是堆栈传递参数 |
  | extern   | 指定对应变量为外部变量，即标识变量或者函数的定义为别的文件，表示编译器在遇到此变量和函数时在其他模块中寻找其定义 |
  | const    | 与 Volatile 合称“cv特性”，特指变量不可被当前线程/进程改变（但有可能被系统或其他线程/进程改变） |
  | Volatile | 与 const 合称“cv特性”，指定变量的值有可能被系统或其他进程/线程改变，强制编译器每次从内存中取得该变量的值 |

**流程控制关键字**

- **跳转结构**

  | 关键字   | 含义                                               |
  | -------- | -------------------------------------------------- |
  | return   | 用在函数体中，返回特定的值（或是 void ，即不返回） |
  | continue | 结束当前循环进入下一循环                           |
  | break    | 跳出当前循环或switch结构                           |
  | goto     | 无条件跳转语句                                     |

- **分支机构**

  | 关键字  | 含义                         |
  | ------- | ---------------------------- |
  | if      | 条件语句，后面无需分号       |
  | else    | 条件语句否定分支，与else连用 |
  | switch  | 开关语句，多重分支语句       |
  | case    | 开关语句中的分支             |
  | default | 开关语句中的其它分支         |

- **循环结构**

  | 关键字 | 含义                                                         |
  | ------ | ------------------------------------------------------------ |
  | for    | for循环结构，for(1;2;3)4; 执行顺序为 1→2→4→3→2...循环，其中2为循环条件，在整个 for 循环中，表达式 1 只计算一次，表达式2和表达式3则可能计算多次，也可能一次也不计算。循环体可多次执行，或不执行 |
  | do     | do 循环结构，do 1 while(2); 执行顺序 1→2→1...循环，2为循环条件 |
  | while  | while：while 循环结构，while(1) 2; 执行顺序是 1→2→1...循环，1 为循环条件，以上循环语句，当循环条件表达式为真继续执行，为假则跳出循环 |

#### 标识符

关键字是系统定义的，标识符是自己定义的

#### 命名规则

- 只能由字母、数字、下划线或者美元符号($)组成
- 不能以数字开头
- 不能与关键字重名
- 严格区分大小写



### 运算符的概念和分类

![image-20181119103432346](image-20181119103432346.png)

![image-20181119103503233](image-20181119103503233.png)

### 算数运算符的介绍和使用

![image-20181119103544999](image-20181119103544999.png)

#### 除法 和 取余

![image-20181119103721233](image-20181119103721233.png)

![image-20181119103744766](image-20181119103744766.png)

### 算数运算符的类转型

不同数据类型的操作数间进行运算，为了避免不可预测的错误发生，引入了类型转换的概念

![image-20181119145809123](image-20181119145809123.png)



### 赋值运算符与赋值运算

赋值运算符记为“=”,由“=”连接的式子称为赋值表达式。 其一般形式为: 变量=表达式 如 a = 2+3 叫赋值表达式 末尾加 分号(;) 变成 a = 2+3; 叫赋值语句。 表示把 = 号后面的值赋给等号前面的变量 注意与 ==(关系运算符判断是否相等) 区分 

![image-20181119152355044](image-20181119152355044.png)

在赋值符“=”之前加上其它二目运算符可构成 复合运算符。

构成复合赋值表达式的
 一般形式为: 变量 双目运算符=表达式 

它等效于
 变量=变量 双目运算符 表达式 

/= 除后赋值 变量/=表达式 如:a/=3;即a=a/3
*= 乘后赋值 变量*=表达式 如:a*=3;即a=a*3
%= 取模后赋值 变量%=表达式 如:a%=3;即a=a%3

+= 加后赋值 变量+=表达式 如:a+=3;即a=a+3
-= 减后赋值 变量-=表达式 如:a-=3;即a=a-3



### 自增、自减运算符

在程序设计中,经常遇到“i=i+1”和“i=i-1”这两种极为常用的操作。
C语言为这种操作提供了两个更为简洁的运算符,即++和--,分别叫做自增运算符和自减运算
符

#### 自增、自减运算符的求值过程

- ++x 相当于 x = x+1; 再用x执行某些操作。 ---> ++x : 先加加 再用 

- x++ 相当于 先用x执行某些操作 再 x = x+1; ---> x++ :先用 再加加 同理 

- --x 相当于 x = x-1; 再用x执行某些操作。 ---> --x : 先减减 再用
-  x-- 相当于 先用x执行某些操作 ，再 x = x-1; ---> x-- :先用 再减减 

这里就定义出了前缀运算符和后缀运算符

**只能运用于单个变量 ** **不能用于表达式和常量**



### sizeof运算符

为单目运算符，用于 **获取操作数占用内存大小的字节数**

**使用形式：** sizeof(操作数)  或 sizeof 操作数

#### 用法：

- 用于数据类型

  ```c
  int main(){
      int sizeInt = 0;
      int sizeDouble = 0;
      sizeInt = sizeof(int);
      sizeDouble = sizeof(double);
      printf("sizeInt=%d\n,sizeDouble=%d",sizeInt,sizeDouble);
      return 0;
  }
  //输出
  sizeInt=4
  sizeDouble=8
  ```

- 用于常量

  ```c
  int main(int argc,const char * argv[]){
      //在 c 语言中 字符型常量 占用的字节数是 4
      int size = sizeof('a');
      //字符型变量 占一个字节
      char c = 'a';
      int sizeCh = sizeof(c);
      printf("字符型 常量 size = %d \n",size);
      printf("字符型 变量 sizeCh = %d \n",sizeCh);
      return 0;
  }
  //输出
  字符型 常量 size = 4
  字符型 变量 sizeCh = 1
  //------------------------------------------------------------------
      int main(int argc, const char * argv[]){
      int float_size = sizeof(1.1f);
      int int_size = sizeof(1);
      int double_size = sizeof(3.1);
      int short_size = sizeof((short)1);
      
      printf("常量 short_size = %d \n",short_size);
          printf("常量 int_size = %d \n",int_size);
          printf("常量 float_size = %d \n",float_size);
          printf("常量 double_size = %d \n",double_size);
      return 0;
  }
  //输出
  常量 short_size = 2
  常量 int_size = 4
  常量 float_size = 4
  常量 double_size = 8
  ```

- 用于变量

  sizeof使用形式:sizeof(var_name)或sizeof var_name
  变量名可以不用括号括住。如sizeof (var_name),sizeof var_name等都是正确形式。
  带括号的用法更普遍,大多数程序员采用这种形式。

  ```c
  int main(int argc, const char * argv[]){
  	//常量 可以不带括号
      int float_size = sizeof 1.1f;
      int int_size = sizeof 1;
      int double_size = sizeif 3.1;
      //变量 建议带括号
      printf("常量 short_size = %d \n",short_size);
          printf("常量 int_size = %d \n",int_size);
          printf("常量 float_size = %d \n",float_size);
          printf("常量 double_size = %d \n",double_size);
      return 0;
  }
  //输出
  常量 short_size = 2
  常量 int_size = 4
  常量 float_size = 4
  常量 double_size = 8
  ```


### 逗号运算符

连接多个表达式组成一个表达式的一般形式：表达式1,表达式2,表达式3…表达式n

返回值： 最后一个表达式的值



### 关系运算符

### 逻辑运算符

### 进制转换

![image-20181119172206104](image-20181119172206104.png)

![image-20181119172353947](image-20181119172353947.png)

![image-20181119172620503](image-20181119172620503.png)

![image-20181119172827945](image-20181119172827945.png)

### 位运算

#### 运算符

&  |  ^  ~  <<  >>

用途：直接操作二进制，省内存，效率高

只能用于整型数的操作（**char、short、int、long**）

#### 运算规则

1. **& 与运算 全1才1 否则 0**

   只有两个对应的二进制均为1时，结果才为1，否则为0

   ![image-20181119173623945](image-20181119173623945.png)

2. **| 或运算 有1就1**

   只要对应的二个二进位有一个为1时,结果位就为1,否则为0

   ![image-20181119173729436](image-20181119173729436.png)

3. **^ 异或 不同为1**

   当对应的二进位相异(不相同)时,结果为1,否则为0

   ![image-20181119173822582](image-20181119173822582.png)

4. **~  取反 **

   **各二进位进行取反(0变1,1变0) 【符号位跟着一块算】**

   ![image-20181119174030728](image-20181119174030728.png)

5. **<<  左移**  

   各二进位全部左移n位,高位丢弃,低位补0

   ![image-20181120101539622](image-20181120101539622.png)

   左移注意：

   1. 左移可能会改变一个数的正负性
   2. 左移一位相当于乘以2
   3. 可以用于快速计算一个数乘以2的 n 次方（8 << 3  等同于 8 × 2^3）

6. **> > 右移**  

   各二进制位全部右移 n 位，符号位保持不变

   ![image-20181120110150812](image-20181120110150812.png)

   右移相当于除以2 的 n 次方

   用途：快速计算一个数除以 2 的n次方

## 选择结构

#### 三目运算符

也叫三元运算符 

基本格式 : (关系表达式) ? 表达式1 : 表达式2; 

执行流程 : 关系表达式为 真 返回表达式1 关系表达式为假 返回表达式2 

执行流程: 演示获取两个数的最大值 

#### 程序的流程控制

![image-20181120111609202](image-20181120111609202.png)

选择结构：if语句  switch语句

#### if语句的使用和注意事项

##### 格式：

1. ![image-20181120111829074](image-20181120111829074.png)
2. ![image-20181120111847263](image-20181120111847263.png)
3. ![image-20181120111907562](image-20181120111907562.png)

##### 注意事项：

1. if(条件) return 0; 执行完return 程序将不会再向下执行
2. if(1) 和 if(-1) 永远为真， if(0) 为假
3. if语句的作用域在其内部（{}）不要去定义变量类到外部使用
4. 某些情况可以省略 花括号 但是不建议省略

#### switch语句的使用和注意事项

![image-20181120112502116](image-20181120112502116.png)

![image-20181120112520822](image-20181120112520822.png)

## 循环结构

#### while循环和使用注意

![image-20181120112644779](image-20181120112644779.png)

##### 注意：

1. 死循环，循环表达式永远为真，或者就是常量 1 -1 等

   ```c
   while(-1){
       printf("这就是四循环");
   }
   ```

2. 当一个变量与一个常量进行== 或 != 的时候，常量一般要写在前面

   ```c
   int num = 3;
   while (3 == num) {
   printf("num = %d\n",num);
   num++; }
   ```

3. while 后面如果只有一条语句他可以省略大括号

   1. 空语句也是一条语句

   2. while 小括号后面不可以直接写分号

      ```c
      int num = 0;
      while (num < 3); {
      printf("num = %d\n",num);
      num++; }
      //以上是个错误示范
      ```

4. 作用域：内部定义的变量不可以在外部使用

   ```c
   while (1 < 3) {
        int a = 0;
   }
   printf("a = %d\n",a);//这样没有结果
   ```

5. 作用域紊乱  就是该有括号的地方大括号 容易看 也不容易乱

6. 最简单的死循环

   ```c
   while(1){
       doSomeThing;//一直do
   }
   ```

#### do...while 循环

定义：首先会执行一遍循环体里面的语句。接着判断 while 中的条件，如果条件成立，就执行循环体里面的语句，然后再次判断条件，重复上述过程，直到条件不成立就结束

特点：不管 while 中的条件是否成立，循环体中的语句至少会被执行一遍

#### for循环

#### break 与 continue 

## 函数

### 函数概述

实现特定功能的代码块，提高代码的复用性

```c
int main(int agrc,const char * argv[]){
    for(int i=1; i<=9; i++){
        for(int j=1; j<=i; j++){
            printf("%d * %d = %d ",j,i,i*j);
        }
        printf("\n");
    }
      for(int i=1; i<=9; i++){
        for(int j=1; j<=i; j++){
            printf("%d * %d = %d ",j,i,i*j);
        }
        printf("\n");
    }
      for(int i=1; i<=9; i++){
        for(int j=1; j<=i; j++){
            printf("%d * %d = %d ",j,i,i*j);
        }
        printf("\n");
    }
    
    show99();
    return 0;
}
// 函数化
#include <stdio.h>
//打印99乘法表
void show99(){
    for(int i=1; i<=9; i++){
        for(int j=1; j<=i; j++){
            printf("%d * %d = %d ",j,i,i*j);
        }
        printf("\n");
    }
}
```



### 函数的分类和书写格式

- **库函数**  

  由C系统提供,用户无须定义,也不必在程序中作类型说明,只需在程序前包含有该函数
  原型的头文件即可在程序中直接调用。在前面各章节中反复使用的printf、scanf等函数均属此类。

- **用户定义函数**

  由用户按需要写的函数。对于用户自定义函数,不仅要在程序中定义函数本身,
  而且在主调函数模块中还必须对该被调函数进行类型说明,然后才能使用。

#### 库函数的分类

| 分类           | 用途                                                         |
| -------------- | ------------------------------------------------------------ |
| 字符型分类函数 | 用于对字符按 **ASCII**码分类：字母、数字、控制字符、分隔符、大小、写字母等 |
| 转换函数       | 用于字符或字符串的转换;在字符量和各类数字量(整型,实型等)之间进行 转换;在大、小写之间进行转换 |
| 目录路径函数   | 用于文件目录和路径操作                                       |
| 诊断函数       | 用于内部错误检测                                             |
| 图形函数       | 用于屏幕管理黑各种图型功能                                   |
| 输入输出函数   | 用于完成输入输出功能                                         |
| 接口函数       | 用于与DOS，BIOS和硬件的接口                                  |
| 字符串函数     | 用于字符串操作和处理                                         |
| 内存管理函数   | 用于内存管理                                                 |
| 数字函数       | 用于数学函数计算                                             |
| 日期和时间函数 | 用于日期，时间转换操作                                       |
| 进程控制函数   | 用于进程管理                                                 |
| 其他           | 其他                                                         |

#### 自定义函数的书写格式

**声明→实现→调用**

基本格式

```c
返回值类型 函数名称(数据类型 变量名1，数据类型 变量名2，...){
    函数体；
    return 对应的类型结果;
}
//声明一个函数，给一个整数 + 1
int showAdd(int a);

int main(int argc, const char * argv[]){
    int z = showAdd(10);
    printf("z = %d \n",z);
    return 0;
}

int showAdd(int a){
    int b = a + 1;
    return b;
}
```

![image-20181120163231930](image-20181120163231930.png)



### 几种常见函数的定义

1. **有参数有返回值**

   ```c
   返回值类型 函数名(形式参数列表){
       语句;
       return 返回值类型变量或常量;
   }
   ```

2. **有参数无返回值**

   ```c
   void 函数名(形参列表){
       语句;
   }
   /*
   有参函数比无参函数多了一个内容,即形式参数表列。在形参表中给出的参数称为形式参数,它 们可以是各种类型的变量,各参数之间用逗号间隔。 在进行函数调用时,主调函数将赋予这些形式参数实际的值。形参既然是变量,必须在形参表中 给出形参的类型说明
   */
   ```

3. **无参数无返回值**

   ```c
   void 函数名(){
       函数体;
   }
   /*
   无返回值函数:相当于把某一部分功能放到特定的代码块中去执行。 执行完毕之后无需给调用
   者返回执行结果。 在标记没有返回值的函数的时候用void去标记。
   */
   ```

4. **无参数有返回值**

   ```c
   返回值类型 函数名(){
   语句 ;
   return 返回值类型变量或常量;
   }
   ```


### 变量的作用域

> 可以在任何代码块的起始处定义变量。 变量只存在于定义他们的块中。他们在声明的时候创
> 建，在定义他们的块结束的时候，该变量就不存在了。 这个程序代码块就是变量的作用域。

#### 局部变量

> 定义说明在函数内部的变量，也称为内部变量。
> 其作用域仅限于函数内, 离开该函数后再使用这种变量表达对应的意义就是非法的。

##### 使用注意

1. 主函数中定义的变量也只能在其自身中使用,不能在其它函数中使用。同时,主函数中也不
   能使用其它函数中定义的变量。因为主函数也是一个函数,它与其它函数是平行关系。

2. 形参变量是属于被调函数的局部变量

3. 允许在不同的函数中使用相同的变量名,它们代表不同的对象,分配不同的单元,互 

   不干扰,也不会发生混淆。 

#### 全局变量

1. 
2. a
3. s
4. ss
5. s

### 函数的声明与调用

### 函数参数的使用注意

### 函数的返回值以及注意事项

### 函数调用的练习

### #include指令

### #include文件搜索顺序

### C语言模块化编程概念

### 感受多文件开发及注意事项

